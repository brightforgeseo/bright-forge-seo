---
import MainLayout from '../layouts/MainLayout.astro';
import LegacyHeader from '../components/LegacyHeader.astro';
import Footer from '../components/Footer.astro';
import ContactSection from '../components/ContactSection.astro';

// Blog posts - currently just our published articles
const blogPosts = [
  {
    title: "The AI Reckoning: Transformation, Not Termination, for Search Engine Optimisation",
    excerpt: "Rapid AI advancements integrated into the digital landscape ignite debate about the future of Search Engine Optimisation (SEO). This report examines whether AI will make traditional SEO obsolete, concluding that AI is not killing SEO but fundamentally transforming it, demanding significant adaptation.",
    image: "/images/blog/ai-seo-transformation.png",
    date: "April 23, 2025",
    author: "Bright Forge SEO Team",
    readTime: "25 min read",
    categories: ["ai", "seo", "future"],
    slug: "ai-seo-transformation"
  },
  {
    title: "The Importance of Local SEO for Small Businesses",
    excerpt: "Discover why local SEO is crucial for small businesses looking to expand their visibility and connect with local customers in today's competitive digital landscape.",
    image: "/images/blog/local-seo-small-businesses.jpg",
    date: "June 8, 2025",
    author: "Bright Forge SEO Team",
    readTime: "7 min read",
    categories: ["local", "seo", "small business"],
    slug: "importance-of-local-seo-for-small-businesses"
  },
  {
    title: "Top 10 SEO Trends Shaping the Philippines Market in 2024",
    excerpt: "Discover the latest SEO trends specifically impacting Philippine businesses, from local search optimization to AI-powered content strategies that are driving results.",
    image: "/images/blog/seo-trends-philippines-2024.jpg",
    date: "March 15, 2024",
    author: "Miguel Rodriguez",
    readTime: "8 min read",
    categories: ["seo", "trends", "philippines"],
    slug: "seo-trends-philippines-2024"
  }
];

// Popular categories
const categories = ["SEO", "Content Marketing", "Technical SEO", "Local SEO", "E-commerce", "Backlinks"];

// Popular posts
const popularPosts = blogPosts.slice(0, 3);

// Recent posts for sidebar
const recentPosts = [...blogPosts].sort(() => 0.5 - Math.random()).slice(0, 4);
---

<MainLayout 
  title="Blog - Bright Forge SEO Philippines"
  description="Explore the latest SEO insights, tips, and industry news from Bright Forge SEO Philippines to help grow your business online."
>
  <LegacyHeader slot="header" />
  
  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-red-50 to-blue-50 py-20">
    <div class="max-w-7xl mx-auto px-4">
      <div class="text-center max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-bold text-brand-dark mb-6">
          SEO Insights & Digital Marketing Resources
        </h1>
        <p class="text-lg text-brand-soft mb-8">
          Discover actionable tips, guides, and industry updates to help your business succeed online.
        </p>
        <div class="relative max-w-lg mx-auto">
          <input 
            type="text" 
            placeholder="Search blog posts..." 
            class="w-full py-3 px-5 pr-12 rounded-md border border-gray-300 focus:ring-2 focus:ring-brand-accent focus:border-brand-accent"
          >
          <button class="absolute right-3 top-3 text-brand-accent">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col lg:flex-row gap-10">
        <!-- Blog Main Content -->
        <div class="lg:w-2/3">
          <!-- Blog Filter -->
          <div class="mb-10 flex flex-wrap gap-2">
            <button class="filter-btn bg-brand-accent text-white px-5 py-2 rounded-md hover:bg-opacity-90 transition-all" data-category="all">All Topics</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="seo">SEO</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="technical">Technical</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="content">Content</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="local">Local</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="ecommerce">E-commerce</button>
            <button class="filter-btn bg-gray-100 text-brand-dark px-5 py-2 rounded-md hover:bg-gray-200 transition-all" data-category="backlinks">Backlinks</button>
          </div>
          
          <!-- Blog Posts -->
          <div class="grid md:grid-cols-2 gap-8">
            {blogPosts.map((post) => (
              <div class="blog-card rounded-lg overflow-hidden shadow-md bg-white" data-categories={post.categories.join(" ")}>
                <div class="blog-image h-48 overflow-hidden">
                  <img src={post.image} alt={post.title} class="w-full h-full object-cover transition-transform hover:scale-105">
                </div>
                <div class="p-6">
                  <div class="flex flex-wrap gap-2 mb-3">
                    {post.categories.map((category) => (
                      <span class="text-xs bg-brand-accent/10 text-brand-accent px-3 py-1 rounded-full">
                        {category.charAt(0).toUpperCase() + category.slice(1)}
                      </span>
                    ))}
                  </div>
                  <h3 class="text-xl font-bold mb-3 text-brand-dark hover:text-brand-accent">
                    <a href={`/blog/${post.slug}`}>
                      {post.title}
                    </a>
                  </h3>
                  <p class="text-brand-soft mb-4">
                    {post.excerpt}
                  </p>
                  <div class="flex items-center justify-between text-sm text-brand-soft">
                    <div class="flex items-center">
                      <i class="far fa-calendar-alt mr-1"></i>
                      <span>{post.date}</span>
                    </div>
                    <div class="flex items-center">
                      <i class="far fa-clock mr-1"></i>
                      <span>{post.readTime}</span>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
          
          <!-- Pagination -->
          <div class="flex justify-center mt-12 space-x-2">
            <a href="#" class="w-10 h-10 flex items-center justify-center rounded-md bg-brand-accent text-white">1</a>
            <a href="#" class="w-10 h-10 flex items-center justify-center rounded-md bg-gray-100 text-brand-dark hover:bg-gray-200">2</a>
            <a href="#" class="w-10 h-10 flex items-center justify-center rounded-md bg-gray-100 text-brand-dark hover:bg-gray-200">3</a>
            <span class="w-10 h-10 flex items-center justify-center">...</span>
            <a href="#" class="w-10 h-10 flex items-center justify-center rounded-md bg-gray-100 text-brand-dark hover:bg-gray-200">8</a>
          </div>
        </div>
        
        <!-- Blog Sidebar -->
        <div class="lg:w-1/3">
          <!-- Search Widget -->
          <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h3 class="text-xl font-bold mb-4 text-brand-dark">Search</h3>
            <div class="relative">
              <input 
                type="text" 
                placeholder="Search blog..." 
                class="w-full py-3 px-4 pr-10 rounded-md border border-gray-300 focus:ring-2 focus:ring-brand-accent focus:border-brand-accent"
              >
              <button class="absolute right-3 top-3 text-brand-accent">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
          
          <!-- Categories Widget -->
          <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h3 class="text-xl font-bold mb-4 text-brand-dark">Categories</h3>
            <ul class="space-y-3">
              {categories.map((category) => (
                <li>
                  <a href="#" class="flex justify-between items-center text-brand-soft hover:text-brand-accent">
                    <span>{category}</span>
                    <span class="bg-gray-100 px-2 py-1 rounded-md text-xs">{Math.floor(Math.random() * 20) + 5}</span>
                  </a>
                </li>
              ))}
            </ul>
          </div>
          
          <!-- Recent Posts Widget -->
          <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h3 class="text-xl font-bold mb-4 text-brand-dark">Recent Posts</h3>
            <div class="space-y-4">
              {recentPosts.map((post) => (
                <div class="flex gap-3">
                  <div class="w-20 h-20 flex-shrink-0">
                    <img src={post.image} alt={post.title} class="w-full h-full object-cover rounded-md">
                  </div>
                  <div>
                    <h4 class="font-medium text-brand-dark hover:text-brand-accent line-clamp-2">
                      <a href={`/blog/${post.slug}`}>
                        {post.title}
                      </a>
                    </h4>
                    <div class="text-xs text-brand-soft">
                      <i class="far fa-calendar-alt mr-1"></i>
                      <span>{post.date}</span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
          
          <!-- Popular Tags Widget -->
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-xl font-bold mb-4 text-brand-dark">Popular Tags</h3>
            <div class="flex flex-wrap gap-2">
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">SEO</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Marketing</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Content</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Google</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Analytics</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Technical</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Local</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Backlinks</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">Mobile</a>
              <a href="#" class="bg-gray-100 text-brand-soft px-3 py-1 rounded-md text-sm hover:bg-gray-200">E-commerce</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-brand-accent to-pink-600 text-white">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-6">Want More SEO Tips and Insights?</h2>
      <p class="text-lg md:text-xl opacity-90 mb-8 max-w-3xl mx-auto">
        Subscribe to our newsletter and get the latest SEO strategies, tips, and industry news delivered straight to your inbox.
      </p>
      <div class="max-w-md mx-auto">
        <form class="flex flex-col sm:flex-row gap-2">
          <input 
            type="email" 
            placeholder="Your email address" 
            class="flex-1 py-3 px-4 rounded-md border border-white/30 bg-white/10 text-white placeholder:text-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"
            required
          >
          <button 
            type="submit" 
            class="bg-white text-brand-accent px-6 py-3 rounded-md font-bold hover:bg-opacity-90 transition-all"
          >
            Subscribe
          </button>
        </form>
        <p class="text-sm mt-3 opacity-80">We respect your privacy. Unsubscribe at any time.</p>
      </div>
    </div>
  </section>
  
  <ContactSection />
  
  <Footer slot="footer" />
</MainLayout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Blog filtering functionality
    const filterBtns = document.querySelectorAll('.filter-btn');
    const blogCards = document.querySelectorAll('.blog-card');
    
    filterBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        // Remove active class from all buttons
        filterBtns.forEach(btn => {
          btn.classList.remove('bg-brand-accent', 'text-white');
          btn.classList.add('bg-gray-100', 'text-brand-dark');
        });
        
        // Add active class to clicked button
        this.classList.remove('bg-gray-100', 'text-brand-dark');
        this.classList.add('bg-brand-accent', 'text-white');
        
        const category = this.getAttribute('data-category');
        
        // Filter blog cards
        blogCards.forEach(card => {
          if (category === 'all') {
            card.style.display = 'block';
          } else {
            const categories = card.getAttribute('data-categories');
            if (categories && categories.includes(category)) {
              card.style.display = 'block';
            } else {
              card.style.display = 'none';
            }
          }
        });
      });
    });
  });
</script>
