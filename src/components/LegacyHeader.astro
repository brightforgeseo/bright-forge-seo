---
// LegacyHeader.astro â€“ Professional mega-menu for SEO agency
import "../styles/legacy.css";
---

<!-- Top Contact Bar -->
<div class="top-bar-professional">
  <div class="top-bar-container">
    <div class="contact-info-professional">
      <a href="mailto:seo@brightforgeseo.com" class="contact-link">
        <i class="fas fa-envelope"></i>
        <span>seo@brightforgeseo.com</span>
      </a>
      <a href="tel:+639696206182" class="contact-link">
        <i class="fas fa-phone"></i>
        <span>(+63) 969 620 6182</span>
      </a>
    </div>
    <div class="social-links-professional">
      <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
      <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
      <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
    </div>
  </div>
</div>

<!-- Main Navigation with Professional Mega Menu -->
<nav class="navbar-professional">
  <div class="nav-container">
    <!-- Logo -->
    <div class="nav-logo">
      <a href="/">
        <img src="/images/logo-bright-forge.png" alt="Bright Forge SEO" width="180" height="50">
      </a>
    </div>

    <!-- Desktop Navigation -->
    <ul class="nav-menu-professional">
      <li class="nav-item-professional">
        <a href="/" class="nav-link-professional">
          <span>Home</span>
        </a>
      </li>
      
      <li class="nav-item-professional has-dropdown">
        <a href="#" class="nav-link-professional">
          <span>SEO Services</span>
          <i class="fas fa-chevron-down nav-arrow"></i>
        </a>
        <div class="mega-menu-professional">
          <div class="mega-menu-container">
            <div class="mega-menu-content">
              <!-- Core Services Column -->
              <div class="mega-column">
                <h3 class="column-title">Core SEO Services</h3>
                <div class="service-links">
                  <a href="/philippines-seo-services" class="service-link">
                    <div class="service-info">
                      <strong>Philippines SEO Services</strong>
                      <span>Complete SEO solutions for Philippine businesses</span>
                    </div>
                  </a>
                  <a href="/technical-seo-services-philippines" class="service-link">
                    <div class="service-info">
                      <strong>Technical SEO</strong>
                      <span>Fix technical issues and improve site performance</span>
                    </div>
                  </a>
                  <a href="/on-page-seo-services-philippines" class="service-link">
                    <div class="service-info">
                      <strong>On-Page SEO</strong>
                      <span>Optimize content and page elements</span>
                    </div>
                  </a>
                  <a href="/content-seo-services-philippines" class="service-link">
                    <div class="service-info">
                      <strong>Content SEO</strong>
                      <span>Strategic content creation and optimization</span>
                    </div>
                  </a>
                </div>
              </div>

              <!-- Specialized Services Column -->
              <div class="mega-column">
                <h3 class="column-title">Specialized Services</h3>
                <div class="service-links">
                  <a href="/backlink-seo-services-philippines" class="service-link">
                    <div class="service-info">
                      <strong>Link Building</strong>
                      <span>High-quality backlink acquisition</span>
                    </div>
                  </a>
                  <a href="/white-label-seo-services-philippines" class="service-link">
                    <div class="service-info">
                      <strong>White Label SEO</strong>
                      <span>Partner with us for your client projects</span>
                    </div>
                  </a>
                  <a href="/seo-audit-services" class="service-link">
                    <div class="service-info">
                      <strong>SEO Audits</strong>
                      <span>Comprehensive website analysis</span>
                    </div>
                  </a>
                  <a href="/keyword-research-services" class="service-link">
                    <div class="service-info">
                      <strong>Keyword Research</strong>
                      <span>Strategic keyword planning and analysis</span>
                    </div>
                  </a>
                </div>
              </div>

              <!-- Development Services Column -->
              <div class="mega-column">
                <h3 class="column-title">Development & Migration</h3>
                <div class="service-links">
                  <a href="/astro-seo-website-development" class="service-link">
                    <div class="service-info">
                      <strong>Astro Website Development</strong>
                      <span>Fast, SEO-optimized websites</span>
                    </div>
                  </a>
                  <a href="/website-migration-services" class="service-link">
                    <div class="service-info">
                      <strong>Website Migration</strong>
                      <span>Safe and SEO-friendly site moves</span>
                    </div>
                  </a>
                </div>
                
                <div class="mega-highlight">
                  <h4>Ready to Get Started?</h4>
                  <p>Get a free SEO consultation and discover how we can help your business grow.</p>
                  <a href="/contact" class="cta-button-mega">Free Consultation</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>

      <li class="nav-item-professional">
        <a href="/case-studies" class="nav-link-professional">
          <span>Case Studies</span>
        </a>
      </li>
      
      <li class="nav-item-professional">
        <a href="/blog" class="nav-link-professional">
          <span>Blog</span>
        </a>
      </li>

      <li class="nav-item-professional has-dropdown">
        <a href="#" class="nav-link-professional">
          <span>Company</span>
          <i class="fas fa-chevron-down nav-arrow"></i>
        </a>
        <div class="dropdown-professional">
          <div class="dropdown-content">
            <a href="/about-us" class="dropdown-link">
              <strong>About Us</strong>
              <span>Learn about our team and mission</span>
            </a>
            <a href="/contact" class="dropdown-link">
              <strong>Contact</strong>
              <span>Get in touch with our team</span>
            </a>
          </div>
        </div>
      </li>
    </ul>

    <a href="/contact" class="cta-button-professional">
      <span>Get Started</span>
    </a>

    <button type="button" class="mobile-menu-btn" id="mobile-menu-toggle" aria-label="Toggle mobile menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-content">
      <a href="/" class="mobile-nav-link">Home</a>
      
      <div class="mobile-dropdown" data-dropdown="services">
        <button class="mobile-dropdown-btn" type="button">
          <span>SEO Services</span>
          <i class="fas fa-chevron-down dropdown-icon"></i>
        </button>
        <div class="mobile-dropdown-content">
          <a href="/philippines-seo-services" class="mobile-nav-link">Philippines SEO Services</a>
          <a href="/technical-seo-services-philippines" class="mobile-nav-link">Technical SEO</a>
          <a href="/on-page-seo-services-philippines" class="mobile-nav-link">On-Page SEO</a>
          <a href="/content-seo-services-philippines" class="mobile-nav-link">Content SEO</a>
          <a href="/backlink-seo-services-philippines" class="mobile-nav-link">Link Building</a>
          <a href="/white-label-seo-services-philippines" class="mobile-nav-link">White Label SEO</a>
          <a href="/seo-audit-services" class="mobile-nav-link">SEO Audits</a>
          <a href="/keyword-research-services" class="mobile-nav-link">Keyword Research</a>
          <a href="/astro-seo-website-development" class="mobile-nav-link">Astro Development</a>
          <a href="/website-migration-services" class="mobile-nav-link">Website Migration</a>
        </div>
      </div>
      
      <a href="/case-studies" class="mobile-nav-link">Case Studies</a>
      <a href="/blog" class="mobile-nav-link">Blog</a>
      
      <div class="mobile-dropdown" data-dropdown="company">
        <button class="mobile-dropdown-btn" type="button">
          <span>Company</span>
          <i class="fas fa-chevron-down dropdown-icon"></i>
        </button>
        <div class="mobile-dropdown-content">
          <a href="/about-us" class="mobile-nav-link">About Us</a>
          <a href="/contact" class="mobile-nav-link">Contact</a>
        </div>
      </div>
      
      <a href="/contact" class="mobile-cta">Get Started</a>
    </div>
  </div>
</nav>

<script>
class MobileMenu {
  constructor() {
    this.menuBtn = document.getElementById('mobile-menu-toggle');
    this.menu = document.getElementById('mobile-menu');
    this.dropdownBtns = document.querySelectorAll('.mobile-dropdown-btn');
    this.isOpen = false;
    
    this.init();
  }
  
  init() {
    // Menu toggle handler
    if (this.menuBtn) {
      this.menuBtn.addEventListener('click', (e) => {
        e.preventDefault();
        this.toggleMenu();
      });
    }
    
    // Dropdown handlers
    this.dropdownBtns.forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.preventDefault();
        this.toggleDropdown(btn);
      });
    });
    
    // Close menu on outside click
    document.addEventListener('click', (e) => {
      if (this.isOpen && !this.menu.contains(e.target) && !this.menuBtn.contains(e.target)) {
        this.closeMenu();
      }
    });
    
    // Close menu on window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768 && this.isOpen) {
        this.closeMenu();
      }
    });
    
    // Prevent menu links from closing menu accidentally
    this.menu.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  }
  
  toggleMenu() {
    if (this.isOpen) {
      this.closeMenu();
    } else {
      this.openMenu();
    }
  }
  
  openMenu() {
    this.isOpen = true;
    this.menu.classList.add('active');
    this.menuBtn.classList.add('active');
    document.body.style.overflow = 'hidden';
    document.body.style.position = 'fixed';
    document.body.style.width = '100%';
  }
  
  closeMenu() {
    this.isOpen = false;
    this.menu.classList.remove('active');
    this.menuBtn.classList.remove('active');
    document.body.style.overflow = '';
    document.body.style.position = '';
    document.body.style.width = '';
    
    // Close all dropdowns when menu closes
    this.closeAllDropdowns();
  }
  
  toggleDropdown(btn) {
    const dropdown = btn.closest('.mobile-dropdown');
    const content = dropdown.querySelector('.mobile-dropdown-content');
    const icon = btn.querySelector('.dropdown-icon');
    const isActive = dropdown.classList.contains('active');
    
    // Close other dropdowns
    this.closeAllDropdowns();
    
    if (!isActive) {
      dropdown.classList.add('active');
      content.style.maxHeight = content.scrollHeight + 'px';
      icon.style.transform = 'rotate(180deg)';
    }
  }
  
  closeAllDropdowns() {
    const activeDropdowns = document.querySelectorAll('.mobile-dropdown.active');
    activeDropdowns.forEach(dropdown => {
      const content = dropdown.querySelector('.mobile-dropdown-content');
      const icon = dropdown.querySelector('.dropdown-icon');
      
      dropdown.classList.remove('active');
      content.style.maxHeight = '0';
      icon.style.transform = 'rotate(0deg)';
    });
  }
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  new MobileMenu();
});
</script>

<style>
/* MOBILE MENU OVERRIDES - HIGHEST SPECIFICITY */
@media screen and (max-width: 768px) {
  /* Hide desktop navigation */
  .nav-menu-professional,
  .cta-button-professional {
    display: none !important;
  }

  /* Mobile menu button */
  .mobile-menu-btn {
    display: flex !important;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 44px;
    height: 44px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    position: relative;
    z-index: 1001;
    transition: all 0.3s ease;
  }

  .hamburger-line {
    width: 25px;
    height: 3px;
    background-color: #333;
    margin: 2px 0;
    transition: all 0.3s ease;
    transform-origin: center;
  }

  /* Active hamburger animation */
  .mobile-menu-btn.active {
    position: fixed !important;
    top: 25px !important;
    right: 25px !important;
    z-index: 10002 !important;
  }

  .mobile-menu-btn.active .hamburger-line {
    background-color: white;
  }

  .mobile-menu-btn.active .hamburger-line:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }

  .mobile-menu-btn.active .hamburger-line:nth-child(2) {
    opacity: 0;
    transform: scale(0);
  }

  .mobile-menu-btn.active .hamburger-line:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
  }

  /* Mobile menu overlay */
  .mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .mobile-menu.active {
    opacity: 1;
    visibility: visible;
  }

  .mobile-menu-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 100px 20px 50px;
    max-width: 400px;
    margin: 0 auto;
  }

  /* Mobile navigation links */
  .mobile-nav-link {
    display: block;
    width: 100%;
    padding: 18px 30px;
    color: white;
    font-size: 18px;
    font-weight: 600;
    text-decoration: none;
    text-align: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .mobile-nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 68, 56, 0.2), transparent);
    transition: left 0.6s ease;
  }

  .mobile-nav-link:hover::before {
    left: 100%;
  }

  .mobile-nav-link:hover {
    color: #ff6b35;
    background: rgba(255, 68, 56, 0.1);
    transform: translateX(10px);
  }

  /* Mobile dropdown */
  .mobile-dropdown {
    width: 100%;
    position: relative;
  }

  .mobile-dropdown-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 18px 30px;
    background: none;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    color: white;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .mobile-dropdown-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 68, 56, 0.2), transparent);
    transition: left 0.6s ease;
  }

  .mobile-dropdown-btn:hover::before {
    left: 100%;
  }

  .mobile-dropdown-btn:hover {
    color: #ff6b35;
    background: rgba(255, 68, 56, 0.1);
    transform: translateX(10px);
  }

  .dropdown-icon {
    position: absolute;
    right: 30px;
    font-size: 14px;
    color: #ff6b35;
    transition: transform 0.3s ease;
  }

  /* Dropdown content */
  .mobile-dropdown-content {
    max-height: 0;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.05);
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-dropdown.active .mobile-dropdown-content {
    max-height: 1000px;
  }

  .mobile-dropdown-content .mobile-nav-link {
    padding: 15px 50px;
    font-size: 16px;
    font-weight: 500;
    background: rgba(255, 255, 255, 0.03);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .mobile-dropdown-content .mobile-nav-link:hover {
    background: rgba(255, 68, 56, 0.2);
    transform: translateX(20px);
  }

  /* CTA Button */
  .mobile-cta {
    display: block;
    margin: 30px 20px 20px;
    padding: 18px 40px;
    background: linear-gradient(135deg, #ff4438 0%, #ff6b35 100%);
    color: white;
    text-align: center;
    text-decoration: none;
    border-radius: 50px;
    font-weight: 700;
    font-size: 18px;
    transition: all 0.3s ease;
    box-shadow: 0 8px 25px rgba(255, 68, 56, 0.3);
    position: relative;
    overflow: hidden;
  }

  .mobile-cta::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.6s ease;
  }

  .mobile-cta:hover::before {
    left: 100%;
  }

  .mobile-cta:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 15px 35px rgba(255, 68, 56, 0.4);
  }
}

/* Desktop - Hide mobile menu completely */
@media screen and (min-width: 769px) {
  .mobile-menu-btn {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }

  .mobile-menu {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
}
</style>
