---
import MainLayout from '../layouts/MainLayout.astro';
import ContactSection from '../components/ContactSection.astro';
import ButtonPrimary from '../components/ButtonPrimary.astro';
import ButtonSecondary from '../components/ButtonSecondary.astro';

export interface Props {
  title: string;
  client: string;
  industry: string;
  duration: string;
  heroImage?: string;
  challenge: string;
  solution: string;
  keyMetrics: Array<{
    label: string;
    value: string;
    description: string;
  }>;
  strategySteps: Array<{
    title: string;
    description: string;
    icon: string;
  }>;
  results: Array<{
    metric: string;
    before: string;
    after: string;
    improvement: string;
  }>;
  testimonial?: {
    quote: string;
    author: string;
    position: string;
    company: string;
    avatar?: string;
  };
  keyTakeaways: string[];
  nextSteps?: string;
}

const {
  title,
  client,
  industry,
  duration,
  heroImage,
  challenge,
  solution,
  keyMetrics,
  strategySteps,
  results,
  testimonial,
  keyTakeaways,
  nextSteps
} = Astro.props;
---

<!-- CaseStudyTemplate - Content component without MainLayout wrapper -->
<!-- Note: Hero section is now handled by the Hero component in individual case study pages -->

  <!-- Hero Image Section -->
  {heroImage && (
    <section class="hero-image-section">
      <div class="max-w-6xl mx-auto px-6 py-12">
        <div class="hero-image-container">
          <img src={heroImage} alt={`${client} Case Study`} />
        </div>
      </div>
    </section>
  )}

  <!-- Key Metrics Section -->
  <section class="metrics-section">
    <div class="max-w-6xl mx-auto px-6 py-20">
      <div class="metrics-grid">
        {keyMetrics.map((metric) => (
          <div class="metric-card">
            <div class="metric-value">{metric.value}</div>
            <div class="metric-label">{metric.label}</div>
            <div class="metric-description">{metric.description}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- The Challenge & Solution -->
  <section class="challenge-solution">
    <div class="max-w-7xl mx-auto px-4 py-20">
      <div class="two-column-layout">
        <div class="challenge-column">
          <h2>The Challenge</h2>
          <div class="content-box">
            <p>{challenge}</p>
          </div>
        </div>

        <div class="solution-column">
          <h2>Our Approach</h2>
          <div class="content-box">
            <p>{solution}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Strategic Methodology -->
  <section class="methodology-section">
    <div class="max-w-7xl mx-auto px-4 py-20">
      <div class="methodology-header">
        <h2>Strategic Implementation</h2>
        <p>Our systematic approach to achieving results</p>
      </div>

      <div class="strategy-grid">
        {strategySteps.map((step, index) => (
          <div class="strategy-card">
            <div class="strategy-number">{index + 1}</div>
            <h3 class="strategy-title">{step.title}</h3>
            <p class="strategy-description">{step.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Results Comparison -->
  <section class="results-comparison" id="results">
    <div class="max-w-7xl mx-auto px-4 py-20">
      <div class="section-header">
        <h2>Results Overview</h2>
        <p>Performance improvements across key metrics</p>
      </div>

      <div class="results-table-wrapper">
        <table class="results-table">
          <thead>
            <tr>
              <th>Metric</th>
              <th>Before</th>
              <th>After</th>
              <th>Change</th>
            </tr>
          </thead>
          <tbody>
            {results.map((result) => (
              <tr>
                <td class="metric-name-cell">{result.metric}</td>
                <td class="before-cell">{result.before}</td>
                <td class="after-cell">{result.after}</td>
                <td class="improvement-cell">{result.improvement}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Client Testimonial -->
  {testimonial && (
    <section class="client-testimonial">
      <div class="max-w-7xl mx-auto px-4 py-20">
        <div class="testimonial-container">
          <h2>Client Feedback</h2>

          <div class="testimonial-content">
            <blockquote class="testimonial-quote">
              "{testimonial.quote}"
            </blockquote>

            <div class="testimonial-author">
              <div class="author-name">{testimonial.author}</div>
              <div class="author-position">{testimonial.position}, {testimonial.company}</div>
            </div>
          </div>
        </div>
      </div>
    </section>
  )}

  <!-- Key Takeaways -->
  <section class="key-takeaways">
    <div class="max-w-7xl mx-auto px-4 py-20">
      <div class="section-header">
        <h2>Key Takeaways</h2>
        <p>Insights from this engagement</p>
      </div>

      <div class="takeaways-list">
        {keyTakeaways.map((takeaway, index) => (
          <div class="takeaway-item">
            <div class="takeaway-number">{index + 1}</div>
            <p class="takeaway-text">{takeaway}</p>
          </div>
        ))}
      </div>
    </div>
  </section>
 
  <!-- Custom Content Slot -->
  <slot />

  <!-- Next Steps CTA -->
  {nextSteps && (
    <section class="features-section">
      <div class="max-w-7xl mx-auto px-4">
        <div class="cta-container" style="text-align: center; padding: 3rem 2rem; background: white; border-radius: 20px; box-shadow: 0 15px 50px rgba(0,0,0,0.1);">
          <h3 style="font-size: 2rem; margin-bottom: 1rem; color: #1a1a1a;">Ready for Similar Results?</h3>
          <p style="font-size: 1.2rem; color: #666; margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">{nextSteps}</p>
          <div class="hero-actions" style="justify-content: center;">
            <ButtonPrimary href="/contact" text="Get Started Today" />
            <ButtonSecondary href="/" text="Learn More" icon="fas fa-info-circle" />
          </div>
        </div>
      </div>
    </section>
  )}

<!-- MainLayout closing tag removed - handled by parent page -->

<!-- Professional Case Study CSS -->
<style>
  /* Hero Image Section */
  .hero-image-section {
    background: #ffffff;
    border-bottom: 1px solid #e5e7eb;
  }

  .hero-image-container {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }

  .hero-image-container img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: contain;
    background: #f8fafc;
  }

  /* Metrics Section */
  .metrics-section {
    background: #ffffff;
    border-bottom: 1px solid #e5e7eb;
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 48px;
  }

  .metric-card {
    text-align: center;
    padding: 24px 0;
  }

  .metric-value {
    font-size: 3rem;
    font-weight: 800;
    color: #f97316;
    margin-bottom: 12px;
    letter-spacing: -0.02em;
  }

  .metric-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: #1e293b;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 8px;
  }

  .metric-description {
    font-size: 0.875rem;
    color: #64748b;
  }

  /* Global Section Styling */
  section {
    background: white;
  }

  section:nth-child(even) {
    background: #fafafa;
  }

  .section-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .section-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.75rem;
    letter-spacing: -0.02em;
  }

  .section-header p {
    font-size: 1.1rem;
    color: #666;
    font-weight: 400;
  }

  /* Challenge & Solution Section */
  .challenge-solution {
    background: white;
    padding: 80px 0;
  }

  .two-column-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .challenge-column h2,
  .solution-column h2 {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid #f97316;
  }

  .content-box {
    background: #fafafa;
    padding: 30px;
    border-radius: 8px;
    border-left: 4px solid #f97316;
  }

  .content-box p {
    font-size: 1.05rem;
    color: #4b5563;
    line-height: 1.8;
    margin: 0;
  }

  /* Strategic Methodology */
  .methodology-section {
    background: #fafafa;
    padding: 80px 0;
  }

  .methodology-header {
    text-align: center;
    margin-bottom: 50px;
  }

  .methodology-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.75rem;
  }

  .methodology-header p {
    font-size: 1.1rem;
    color: #666;
  }

  .strategy-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .strategy-card {
    background: white;
    padding: 30px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    position: relative;
    padding-top: 50px;
    transition: all 0.3s ease;
  }

  .strategy-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: #d1d5db;
  }

  .strategy-number {
    position: absolute;
    top: 20px;
    left: 20px;
    width: 40px;
    height: 40px;
    background: #f97316;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.2rem;
  }

  .strategy-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 12px;
  }

  .strategy-description {
    font-size: 0.95rem;
    color: #6b7280;
    line-height: 1.6;
    margin: 0;
  }

  /* Results Comparison Section */
  .results-comparison {
    background: white;
    padding: 80px 0;
  }

  .results-table-wrapper {
    max-width: 1000px;
    margin: 0 auto;
    overflow-x: auto;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
  }

  .results-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
  }

  .results-table thead {
    background: #f9fafb;
    border-bottom: 2px solid #e5e7eb;
  }

  .results-table th {
    padding: 16px 20px;
    text-align: left;
    font-weight: 600;
    font-size: 0.95rem;
    color: #374151;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .results-table td {
    padding: 16px 20px;
    border-bottom: 1px solid #f3f4f6;
    font-size: 1rem;
  }

  .results-table tbody tr:last-child td {
    border-bottom: none;
  }

  .results-table tbody tr:hover {
    background: #f9fafb;
  }

  .metric-name-cell {
    font-weight: 600;
    color: #1a1a1a;
  }

  .before-cell {
    color: #6b7280;
  }

  .after-cell {
    color: #f97316;
    font-weight: 600;
  }

  .improvement-cell {
    color: #10b981;
    font-weight: 700;
  }

  /* Client Testimonial Section */
  .client-testimonial {
    background: #fafafa;
    padding: 80px 0;
  }

  .testimonial-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .testimonial-container h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 40px;
  }

  .testimonial-content {
    background: white;
    padding: 50px 40px;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
    border-left: 4px solid #f97316;
  }

  .testimonial-quote {
    font-size: 1.25rem;
    line-height: 1.8;
    color: #374151;
    font-style: italic;
    margin: 0 0 30px 0;
  }

  .testimonial-author {
    padding-top: 20px;
    border-top: 1px solid #e5e7eb;
  }

  .author-name {
    font-size: 1.1rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 5px;
  }

  .author-position {
    font-size: 0.95rem;
    color: #6b7280;
  }

  /* Key Takeaways Section */
  .key-takeaways {
    background: white;
    padding: 80px 0;
  }

  .takeaways-list {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .takeaway-item {
    display: flex;
    gap: 20px;
    background: #fafafa;
    padding: 25px 30px;
    border-radius: 8px;
    border-left: 4px solid #f97316;
    align-items: flex-start;
  }

  .takeaway-number {
    flex-shrink: 0;
    width: 36px;
    height: 36px;
    background: #f97316;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
  }

  .takeaway-text {
    flex: 1;
    font-size: 1.05rem;
    color: #374151;
    line-height: 1.7;
    margin: 0;
    padding-top: 6px;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .two-column-layout {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .results-table-wrapper {
      border-radius: 0;
      margin: 0 -20px;
    }

    .results-table th,
    .results-table td {
      padding: 12px 15px;
      font-size: 0.9rem;
    }

    .testimonial-quote {
      font-size: 1.1rem;
    }

    .takeaway-item {
      padding: 20px;
    }
  }

  /* Performance Transformation Section */
  .performance-transformation {
    background: white;
    padding: 100px 0;
  }

  .transformation-header {
    text-align: center;
    margin-bottom: 80px;
  }

  .transformation-header h2 {
    font-size: 3rem;
    font-weight: 800;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .comparison-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 40px;
    margin-bottom: 60px;
  }

  .comparison-card {
    background: white;
    border-radius: 25px;
    padding: 40px;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
    border: 3px solid #f1f5f9;
    transition: all 0.3s ease;
    overflow: hidden;
    position: relative;
  }

  .comparison-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
    border-color: rgba(66, 133, 244, 0.3);
  }

  .metric-header {
    text-align: center;
    margin-bottom: 40px;
  }

  .metric-name {
    font-size: 1.8rem;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0;
  }

  .comparison-visual {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 30px;
    margin-bottom: 30px;
  }

  .before-section,
  .after-section {
    text-align: center;
  }

  .section-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
  }

  .before-section .section-label {
    color: #dc2626;
  }

  .after-section .section-label {
    color: #16a34a;
  }

  .metric-value {
    font-size: 2.5rem;
    font-weight: 900;
    margin-bottom: 10px;
  }

  .before-value {
    color: #dc2626;
  }

  .after-value {
    background: linear-gradient(135deg, #16a34a, #4285F4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .value-indicator {
    width: 80px;
    height: 8px;
    border-radius: 4px;
    margin: 0 auto;
  }

  .value-indicator.before {
    background: linear-gradient(to right, #dc2626, #ef4444);
  }

  .value-indicator.after {
    background: linear-gradient(to right, #16a34a, #4285F4);
  }

  .transformation-arrow {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  .arrow-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #f97316, #4285F4);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 2s infinite;
  }

  .arrow-icon i {
    color: white;
    font-size: 20px;
  }

  .transformation-label {
    font-size: 12px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .improvement-highlight {
    text-align: center;
  }

  .improvement-badge {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: linear-gradient(135deg, #FFD700, #FFA500);
    color: #1a1a1a;
    padding: 15px 25px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 16px;
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
  }

  .transformation-footer {
    background: #f8fafc;
    border-radius: 20px;
    padding: 50px;
    text-align: center;
  }

  .footer-content h3 {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
  }

  .success-indicators {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-top: 30px;
  }

  .success-item {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #4285F4;
    font-weight: 600;
  }

  /* Client Spotlight Section */
  .client-spotlight {
    background: #f8fafc;
  }

  .spotlight-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .spotlight-header {
    text-align: center;
    margin-bottom: 80px;
  }

  .spotlight-header h2 {
    font-size: 3rem;
    font-weight: 800;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .testimonial-showcase {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 60px;
    background: white;
    border-radius: 25px;
    padding: 60px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
  }

  .quote-section {
    position: relative;
  }

  .quote-mark {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #f97316, #4285F4);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 30px;
  }

  .quote-mark i {
    color: white;
    font-size: 32px;
  }

  .testimonial-text {
    font-size: 1.5rem;
    line-height: 1.8;
    color: #1a1a1a;
    font-style: italic;
    margin: 0;
    position: relative;
  }

  .author-section {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .author-profile {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 40px;
  }

  .author-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 25px;
    border: 4px solid #4285F4;
  }

  .author-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .author-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 8px;
  }

  .author-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #4285F4;
    margin-bottom: 5px;
  }

  .author-company {
    font-size: 1rem;
    color: #666;
    font-weight: 500;
  }

  .satisfaction-metrics {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .satisfaction-item {
    display: flex;
    align-items: center;
    gap: 15px;
    background: #f8fafc;
    padding: 15px 20px;
    border-radius: 15px;
    border-left: 4px solid #4285F4;
  }

  .satisfaction-item i {
    color: #4285F4;
    font-size: 18px;
  }

  .satisfaction-item span {
    font-weight: 600;
    color: #1a1a1a;
  }

  /* Strategic Insights Section */
  .strategic-insights {
    background: white;
  }

  .insights-header {
    text-align: center;
    margin-bottom: 60px;
  }

  .insights-header h2 {
    font-size: 3rem;
    font-weight: 800;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .insights-intro {
    max-width: 800px;
    margin: 0 auto 80px;
    text-align: center;
  }

  .intro-content h3 {
    font-size: 1.8rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 20px;
  }

  .intro-content p {
    font-size: 1.1rem;
    color: #666;
    line-height: 1.7;
  }

  .insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 40px;
    margin-bottom: 80px;
  }

  .insight-card {
    background: white;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    border: 2px solid #f1f5f9;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .insight-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    border-color: rgba(66, 133, 244, 0.3);
  }

  .insight-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 30px;
  }

  .insight-number {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #f97316, #FF6B35);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: 700;
  }

  .insight-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #4285F4, #34A853);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .insight-icon i {
    color: white;
    font-size: 20px;
  }

  .insight-content h4 {
    font-size: 1.3rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 15px;
  }

  .insight-text {
    font-size: 1rem;
    color: #666;
    line-height: 1.7;
    margin-bottom: 20px;
  }

  .insight-category {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: #f8fafc;
    color: #4285F4;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .insight-glow {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 68, 56, 0.05), rgba(66, 133, 244, 0.05));
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .insight-card:hover .insight-glow {
    opacity: 1;
  }

  .insights-conclusion {
    text-align: center;
  }

  .conclusion-card {
    background: linear-gradient(135deg, #f8fafc, #e2e8f0);
    border-radius: 25px;
    padding: 60px;
    border: 2px solid #e2e8f0;
  }

  .conclusion-card h3 {
    font-size: 2.5rem;
    font-weight: 800;
    color: #1a1a1a;
    margin-bottom: 25px;
  }

  .conclusion-card p {
    font-size: 1.2rem;
    color: #666;
    line-height: 1.7;
    margin-bottom: 40px;
  }

  .insights-btn {
    display: inline-flex;
    align-items: center;
    gap: 15px;
    background: linear-gradient(135deg, #f97316, #4285F4);
    color: white;
    padding: 20px 40px;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 700;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(255, 68, 56, 0.3);
  }

  .insights-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(255, 68, 56, 0.4);
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .timeline-container::before {
      left: 30px;
    }

    .story-marker {
      left: 30px;
    }

    .story-point:nth-child(odd) .story-content,
    .story-point:nth-child(even) .story-content {
      margin-left: 80px;
      margin-right: 0;
      text-align: left;
    }

    .testimonial-showcase {
      grid-template-columns: 1fr;
      gap: 40px;
      padding: 40px;
    }

    .comparison-visual {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .transformation-arrow {
      order: 2;
    }

    .success-indicators {
      flex-direction: column;
      gap: 20px;
    }

    .methodology-flow {
      gap: 30px;
    }

    .card-header {
      flex-direction: column;
      gap: 20px;
      text-align: center;
    }
  }
  
  .results-table-container {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(66, 133, 244, 0.1);
  }
  
  .results-table {
    width: 100%;
    border-collapse: collapse;
  }
  
  .results-table thead {
    background: linear-gradient(135deg, #f97316 0%, #4285F4 100%);
    color: white;
  }
  
  .results-table th,
  .results-table td {
    padding: 1.5rem;
    text-align: left;
    border-bottom: 1px solid #f1f5f9;
  }
  
  .results-table th {
    font-weight: 600;
    font-size: 1.1rem;
  }
  
  .results-table tbody tr:hover {
    background: #f8fafc;
  }
  
  .metric-name {
    font-weight: 600;
    color: #1a1a1a;
  }
  
  .before-value {
    color: #666;
  }
  
  .after-value {
    font-weight: 600;
    color: #4285F4;
  }
  
  .improvement-value {
    font-weight: 700;
    background: linear-gradient(135deg, #f97316, #4285F4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .takeaways-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
  }

      <div class="faq-container">
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>What is SEO and why is it crucial in the Philippines?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Search Engine Optimization (SEO) involves optimizing your website to appear prominently in search engine results. In the Philippine market—where mobile usage and online search behavior are rapidly growing—having top visibility can significantly impact your brand's exposure and revenue.</p>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>How does Bright Forge SEO differ from other agencies?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>We combine local expertise, cutting-edge tactics, and transparency. Our strategies are not boxed into templates; they're tailor-made for Philippine audiences. Plus, we emphasize close collaboration, ensuring our work aligns perfectly with your business goals.</p>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>When can I expect to see results?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>SEO is a long-term game. You might see noticeable improvements in 3-6 months, but sustainable, high-impact results typically take around 6-12 months. We'll provide regular updates to keep you informed every step of the way.</p>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>Do you offer monthly reports and consultations?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Yes, we deliver comprehensive monthly reports highlighting keyword movements, traffic metrics, and conversions. Our account manager will also schedule regular consultations to review progress and discuss any next steps.</p>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>What industries do you specialize in?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>We've served a wide range of sectors—from e-commerce and finance to real estate and healthcare. Our approach remains consistent: data-driven strategies tailored to meet the unique demands of each industry.</p>
          </div>
        </div>

        <div class="faq-item">
          <div class="faq-question" onclick="toggleFAQ(this)">
            <h3>How do I get started?</h3>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="faq-answer">
            <p>Simply reach out to us via our website or phone. We'll discuss your objectives and craft a custom proposal that aligns with your brand's aspirations. No matter the size of your business, we have an SEO solution for you.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- Second MainLayout closing tag removed - handled by parent page -->

<style>
  :root {
    --brand-primary: #1a1a1a;
    --brand-accent: #f97316;
    --brand-secondary: #2563eb;
    --brand-dark: #1f2937;
    --brand-soft: #6b7280;
    --brand-light: #f8fafc;
    --brand-white: #ffffff;
  }

  /* Hero Section */
  .hero-seo {
    background: linear-gradient(135deg, #f97316 0%, #FF6B35 50%, #4285F4 100%);
    min-height: 80vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
    padding: 120px 0 80px;
  }

  .hero-seo::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.05);
    z-index: 1;
  }

  .hero-seo .max-w-7xl {
    position: relative;
    z-index: 2;
  }

  /* Floating Background Elements */
  .hero-bg-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
  }

  .floating-circle {
    position: absolute;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    animation: float 6s ease-in-out infinite;
  }

  .circle-1 {
    width: 120px;
    height: 120px;
    top: 20%;
    right: 15%;
    animation-delay: 0s;
  }

  .circle-2 {
    width: 80px;
    height: 80px;
    top: 60%;
    right: 25%;
    animation-delay: 2s;
  }

  .circle-3 {
    width: 60px;
    height: 60px;
    top: 40%;
    left: 10%;
    animation-delay: 4s;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }

  /* Breadcrumbs */
  .hero-breadcrumbs {
    display: inline-block !important;
    margin-bottom: 3rem;
    font-size: 14px;
    font-weight: 500;
  }

  .hero-breadcrumbs * {
    display: inline !important;
    vertical-align: baseline !important;
  }

  .breadcrumb-link {
    color: white !important;
    text-decoration: none;
    transition: all 0.3s ease;
    opacity: 0.9;
  }

  .breadcrumb-link:hover {
    opacity: 1;
    text-decoration: underline;
  }

  .breadcrumb-separator {
    color: white !important;
    margin: 0 8px;
    opacity: 0.7;
  }

  .breadcrumb-current {
    color: white !important;
    font-weight: 600;
  }

  /* Hero Container */
  .hero-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
  }

  /* Hero Content */
  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(255, 255, 255, 0.15);
    color: white;
    padding: 8px 16px;
    border-radius: 25px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 1.5rem;
    backdrop-filter: blur(10px);
  }

  .hero-badge i {
    color: #FFD700;
  }

  .hero-content h1 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    font-weight: 700;
    color: white;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .hero-description {
    font-size: 1.2rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 2.5rem;
    line-height: 1.7;
  }

  /* Hero Actions */
  .hero-actions {
    display: flex;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 16px 28px;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .cta-button.primary {
    background: white;
    color: #f97316;
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
  }

  .cta-button.primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(255, 255, 255, 0.3);
    background: #f8f9fa;
  }

  .cta-button.secondary {
    background: transparent;
    color: white;
    border-color: rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(10px);
  }

  .cta-button.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px);
  }

  /* Hero Stats */
  .hero-stats {
    display: flex;
    gap: 2rem;
  }

  .stat {
    text-align: center;
  }

  .hero-stats .stat-number,
  .hero-seo .stat-number {
    font-size: 2rem !important;
    font-weight: 700 !important;
    color: white !important;
    color: #ffffff !important;
    margin-bottom: 4px;
  }

  .hero-stats .stat-label,
  .hero-seo .stat-label {
    font-size: 0.9rem !important;
    color: rgba(255, 255, 255, 0.8) !important;
    font-weight: 500;
  }

  /* Hero Visual */
  .hero-visual {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .hero-image-container {
    position: relative;
    width: 100%;
    max-width: 400px;
  }

  .seo-icon-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    padding: 2rem;
  }

  .seo-icon {
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
    animation: iconFloat 4s ease-in-out infinite;
  }

  .seo-icon:nth-child(even) {
    animation-delay: 2s;
  }

  .seo-icon i {
    font-size: 1.5rem;
    color: white;
  }

  .seo-icon:hover {
    transform: translateY(-5px) scale(1.05);
    background: rgba(255, 255, 255, 0.25);
  }

  @keyframes iconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  /* Internal Link Styling for Hero */
  .hero-content h1 a,
  .hero-content p a {
    color: #FFFFFF;
    text-decoration: none;
    position: relative;
    transition: color 0.3s ease;
  }

  .hero-content h1 a:hover,
  .hero-content p a:hover {
    color: #FFE4E1;
  }

  .hero-content h1 a::after,
  .hero-content p a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -2px;
    left: 0;
    background: linear-gradient(90deg, #FFFFFF, #FFE4E1);
    transition: width 0.3s ease;
  }

  .hero-content h1 a:hover::after,
  .hero-content p a:hover::after {
    width: 100%;
  }

  /* Section Headers */
  .section-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-header h2 {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    color: var(--brand-dark);
    margin-bottom: 1rem;
  }

  .section-header h2 span {
    background: linear-gradient(135deg, #f97316 0%, #ff6b5a 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .section-header p {
    font-size: 1.1rem;
    color: var(--brand-soft);
    max-width: 600px;
    margin: 0 auto;
  }

  /* Features Section */
  .features-section {
    padding: 100px 0;
    background: var(--brand-light);
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .feature-card {
    background: white;
    padding: 2.5rem;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
  }

  .feature-icon {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #f97316 0%, #ff6b5a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
  }

  .feature-icon i {
    font-size: 1.8rem;
    color: white;
  }

  .feature-card h3 {
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--brand-dark);
    margin-bottom: 1rem;
  }

  .feature-card p {
    color: var(--brand-soft);
    line-height: 1.6;
  }

  /* Stats Section */
  .stats-section {
    padding: 80px 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
  }

  .stats-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 68, 56, 0.9) 0%, rgba(37, 99, 235, 0.9) 100%);
  }

  .stats-section .max-w-7xl {
    position: relative;
    z-index: 2;
  }

  .stats-section .section-header h2 {
    color: white;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .stat-item {
    text-align: center;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .stat-number {
    font-size: 3rem;
    font-weight: 700;
    color: white;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.9);
    font-weight: 500;
  }

  .stat-icon {
    font-size: 2.5rem;
    color: white;
    margin-bottom: 1rem;
  }

  /* Approach Section */
  .approach-section {
    padding: 100px 0;
    background: white;
  }

  .approach-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .step-card {
    background: linear-gradient(145deg, #f8f9ff 0%, #ffffff 100%);
    padding: 2.5rem;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    position: relative;
    border: 1px solid rgba(255, 68, 56, 0.1);
  }

  .step-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
  }

  .step-number {
    position: absolute;
    top: -15px;
    left: 30px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #f97316 0%, #ff6b5a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    color: white;
    box-shadow: 0 5px 15px rgba(255, 68, 56, 0.3);
  }

  .step-card h3 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--brand-dark);
    margin: 1rem 0;
  }

  .step-card p {
    color: var(--brand-soft);
    line-height: 1.6;
  }

  /* Services Section */
  .services-section {
    padding: 100px 0;
    background: var(--brand-light);
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .service-card {
    background: white;
    padding: 2.5rem;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .service-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
  }

  .service-icon {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #f97316 0%, #ff6b5a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
  }

  .service-icon i {
    font-size: 1.8rem;
    color: white;
  }

  .service-card h3 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--brand-primary);
  }
  
  .service-card h3 a {
    color: var(--brand-primary);
    text-decoration: none;
    transition: color 0.3s;
    position: relative;
  }
  
  .service-card h3 a:hover {
    color: var(--brand-accent);
  }
  
  .service-card h3 a::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 2px;
    bottom: -2px;
    left: 0;
    background-color: var(--brand-accent);
    transform: scaleX(0);
    transform-origin: bottom right;
    transition: transform 0.3s;
  }
  
  .service-card h3 a:hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
  }

  .service-card p {
    color: var(--brand-soft);
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }

  .service-card ul {
    margin: 1.5rem 0;
    padding-left: 0;
    list-style: none;
  }

  .service-card ul li {
    position: relative;
    padding: 0.5rem 0 0.5rem 2rem;
    color: var(--brand-soft);
    line-height: 1.5;
  }

  .service-card ul li::before {
    content: '✓';
    position: absolute;
    left: 0;
    top: 0.5rem;
    color: var(--brand-accent);
    font-weight: bold;
  }

  .outcome {
    background: linear-gradient(135deg, rgba(255, 68, 56, 0.1) 0%, rgba(37, 99, 235, 0.1) 100%);
    padding: 1rem;
    border-radius: 10px;
    border-left: 4px solid var(--brand-accent);
    margin-top: 1.5rem;
  }

  .outcome strong {
    color: var(--brand-accent);
  }

  /* FAQ Section */
  .faq-section {
    padding: 100px 0;
    background: white;
  }

  .faq-container {
    margin-top: 2rem;
  }

  .faq-item {
    background: white;
    border-radius: 15px;
    margin-bottom: 1rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .faq-question {
    padding: 1.5rem 2rem;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(145deg, #f8f9ff 0%, #ffffff 100%);
    transition: all 0.3s ease;
  }

  .faq-question:hover {
    background: linear-gradient(145deg, #eef2ff 0%, #f8f9ff 100%);
  }

  .faq-question h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--brand-dark);
    margin: 0;
  }

  .faq-question i {
    color: var(--brand-accent);
    transition: transform 0.3s ease;
  }

  .faq-answer {
    padding: 0 2rem;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
  }

  .faq-answer.active {
    padding: 1.5rem 2rem;
    max-height: 200px;
  }

  .faq-answer p {
    color: var(--brand-soft);
    line-height: 1.6;
    margin: 0;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .features-grid,
    .services-grid {
      grid-template-columns: 1fr;
    }

    .approach-steps {
      grid-template-columns: 1fr;
    }

    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .hero-content h1 {
      font-size: 2.5rem;
    }

    .hero-content p {
      font-size: 1.1rem;
    }

    .feature-card,
    .service-card,
    .step-card {
      padding: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    window.toggleFAQ = function(element) {
      const answer = element.nextElementSibling;
      const icon = element.querySelector('i');
      
      // Close all other FAQ items
      document.querySelectorAll('.faq-answer').forEach(otherAnswer => {
        if (otherAnswer !== answer) {
          otherAnswer.classList.remove('active');
          otherAnswer.previousElementSibling.querySelector('i').style.transform = 'rotate(0deg)';
        }
      });
      
      // Toggle current FAQ item
      answer.classList.toggle('active');
      if (answer.classList.contains('active')) {
        icon.style.transform = 'rotate(180deg)';
      } else {
        icon.style.transform = 'rotate(0deg)';
      }
    }
  });
</script>
